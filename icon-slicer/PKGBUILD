# $Id$
# Maintainer: Balló György <ballogyor+arch at gmail dot com>

pkgname=icon-slicer
pkgver=0.3
pkgrel=1
pkgdesc="Utility for generating icon themes and libXcursor cursor themes"
arch=('i686' 'x86_64')
url="http://www.freedesktop.org/wiki/Software/icon-slicer/"
license=('MIT')
depends=('gdk-pixbuf2' 'popt' 'xorg-xcursorgen')
source=(http://freedesktop.org/software/icon-slicer/releases/$pkgname-$pkgver.tar.gz
        hotspotfix.patch)
md5sums=('5c5374d4f265b0abe4daef1d03f87104'
         'aa34002e8aa108d3ef39898c34d72448')

prepare() {
  cd $pkgname-$pkgver
  patch -Np1 -i ../hotspotfix.patch
}

build() {
  cd $pkgname-$pkgver
  ./configure --prefix=/usr
  make
}

package() {
  cd $pkgname-$pkgver
  make DESTDIR="$pkgdir" install

  # License
  install -dm755 "$pkgdir/usr/share/licenses/$pkgname"
  sed '/License/,$!d' README >"$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
