# Maintainer: Balló György <ballogyor+arch at gmail dot com>

pkgname=latexila-devel
_pkgname=latexila
pkgver=2.5.1
pkgrel=1
pkgdesc="Integrated LaTeX environment for GNOME (development release)"
arch=('i686' 'x86_64')
url="http://projects.gnome.org/latexila/"
license=('GPL')
depends=('gtksourceview3' 'libgee' 'gtkspell3' 'gsettings-desktop-schemas' 'dconf' 'desktop-file-utils' 'hicolor-icon-theme' 'xdg-utils')
makedepends=('cmake' 'itstool' 'vala')
optdepends=('texlive-core: build documents')
conflicts=("$_pkgname")
install=$_pkgname.install
source=(http://ftp.gnome.org/pub/GNOME/sources/$_pkgname/${pkgver%.*}/$_pkgname-$pkgver.tar.xz)
sha256sums=('3068e406561f13237caed57c390909598fddd24f3f04e3a2c2d3350a6da5249f')

build() {
  cd "$srcdir/$_pkgname-$pkgver/build"

  cmake .. -DCMAKE_INSTALL_PREFIX=/usr -DWITH_GNOME=ON -DBUILD_VALA=ON
  make
}

package() {
  cd "$srcdir/$_pkgname-$pkgver/build"

  make DESTDIR="$pkgdir/" install
}
